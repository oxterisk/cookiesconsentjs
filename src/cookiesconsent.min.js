function CookiesConsentJS(t=""){return new CookiesConsent(t)}class CookiesConsent{constructor(t=""){this.params=""==t?{}:t,this.params.cookies_status=[],this.checkParameters(),this.isPageAllowedToShowConsent()&&(this.answeredConsent()?(this.checkCookies(),this.printDismissButton(),this.callbackFunction("load")):(this.printHtmlMessage(),this.callbackFunction("first-load")))}isPageAllowedToShowConsent(){let t=!0;if(this.params.hasOwnProperty("denylistPages")){const s=window.location.pathname;this.params.denylistPages.forEach(function(e){""!=e&&-1!==s.indexOf(e)&&(t=!1)})}return t}answeredConsent(){const t="consentcookies_status=",s=document.cookie.split(";");let e="";for(let n=0;n<s.length;n++){let a=s[n];for(;" "==a.charAt(0);)a=a.substring(1);0==a.indexOf(t)&&(e=a.substring(t.length,a.length))}return this.params.answered=""!=e,this.params.answered}checkCookies(){const t=document.cookie.split(" ");for(let s=0;s<t.length;s++){let e=t[s].split("=");this.params.cookies_status.hasOwnProperty(e[0])&&(this.params.cookies_status[e[0]]=!0)}}checkParameters(){if(this.params.hasOwnProperty("cookies"))for(const t in this.params.cookies)this.params.cookies[t].hasOwnProperty("name")&&(this.params.cookies_status[this.params.cookies[t].name]=!1);else this.params.cookies={};this.params.position=this.params.hasOwnProperty("position")&&""!=this.params.position?this.params.position:"top",this.params.btnDismissPosition=this.params.hasOwnProperty("btnDismissPosition")&&""!=this.params.btnDismissPosition?this.params.btnDismissPosition:"bottom-left",this.params.expirationDays=this.params.hasOwnProperty("expirationDays")&&""!=this.params.expirationDays?this.params.expirationDays:0,this.params.path=this.params.hasOwnProperty("path")&&""!=this.params.path?`path=${this.params.path}`:"path=/";const t={title:"Cookies compliance",message:"We use cookies",policy:"",btnAccept:"Accept all",btnReject:"Reject all",btnDismiss:"Cookies policy",btnInfo:"Details",btnSettings:"Settings",content_align:"left",info:""};this.params.hasOwnProperty("content")?(this.params.content.title=this.params.content.hasOwnProperty("title")?this.params.content.title:t.title,this.params.content.message=this.params.content.hasOwnProperty("message")?this.params.content.message:t.message,this.params.content.info=this.params.content.hasOwnProperty("info")?this.params.content.info:t.info,this.params.content.policy=this.params.content.hasOwnProperty("policy")?this.params.content.policy:t.policy,this.params.content.btnDismiss=this.params.content.hasOwnProperty("btnDismiss")?this.params.content.btnDismiss:t.btnDismiss,this.params.content.policyLink=this.params.content.hasOwnProperty("policyLink")?this.params.content.policyLink:"",this.params.content.btnAccept=this.params.content.hasOwnProperty("btnAccept")?this.params.content.btnAccept:t.btnAccept,this.params.content.btnReject=this.params.content.hasOwnProperty("btnReject")?this.params.content.btnReject:t.btnReject,this.params.content.btnInfo=this.params.content.hasOwnProperty("btnInfo")?this.params.content.btnInfo:t.content_btnInfo,this.params.content.btnSettings=this.params.content.hasOwnProperty("btnSettings")?this.params.content.btnSettings:t.btnSettings,"right"!=this.params.content.align&&"left"!=this.params.content.align&&"center"!=this.params.content.align&&(this.params.content.align=t.content_align)):this.params.content=t}printHtmlMessage(){const t=document.getElementById("cc-window");if(!t){let t=`cc-pos-${this.params.position}`,s=`cc-content-${this.params.content.align}`,e="afterbegin";"bottom"!=this.params.position&&"bottom-right"!=this.params.position&&"bottom-left"!=this.params.position||(e="beforeend");let n=this.getHtmlButtons(),a="";""!=this.params.content.policy&&""!=this.params.content.policyLink&&(a=`<a href="${this.params.content.policyLink}" target="_blank">${this.params.content.policy}</a>`);let i=`\n            <div class="cc-window-content">\n                <div class="cc-window-title">${this.params.content.title}</div>\n                <div class="cc-window-message">${this.params.content.message} <span class="cc-window-policy">${a}</span></div>\n                <div class="cc-window-buttons">${n}</div>\n            </div>`,c=document.createElement("div");c.id="cc-window",c.classList.add(t),c.classList.add(s),c.innerHTML=i,document.body.insertAdjacentElement(e,c),this.attachEventsButtons()}}getHtmlButtons(){if(this.params.hasOwnProperty("buttons")&&Array.isArray(this.params.buttons)){let t="";const s=this;return this.params.buttons.forEach(function(e){"accept"==e?t+=`<button type="button" id="cc-btn-accept" class="cc-btn-accept">${s.params.content.btnAccept}</button>`:"reject"==e?t+=`<button type="button" id="cc-btn-reject" class="cc-btn-reject">${s.params.content.btnReject}</button>`:"info"==e?t+=`<button type="button" id="cc-btn-info" class="cc-btn-info">${s.params.content.btnInfo}</button>`:"settings"==e&&(t+=`<button type="button" id="cc-btn-settings" class="cc-btn-info">${s.params.content.btnSettings}</button>`)}),t}return`<button type="button" id="cc-btn-accept" class="cc-btn-accept">${this.params.content.btnAccept}</button>`}removeHtmlMessage(){const t=document.getElementById("cc-window");t&&t.remove()}printDismissButton(){if(this.params.hasOwnProperty("buttons")&&this.params.buttons.indexOf("dismiss")>=0){let t=`cc-pos-${this.params.btnDismissPosition}`,s="beforeend";"top-right"!=this.params.position&&"top-left"!=this.params.position||(s="afterbegin");let e=document.createElement("div");e.id="cc-btn-dismiss",e.classList.add(t),e.innerHTML=this.params.content.btnDismiss,document.body.insertAdjacentElement(s,e),this.attachEventsButtons()}}removeDismissButton(){const t=document.getElementById("cc-btn-dismiss");t&&t.remove()}showhideInfo(){""!=this.params.content.info&&this.openPopUp("cc-window-info",this.params.content.info)}showhideSettings(){let t="";for(const s in this.params.cookies){t+=`<div id="${s}" class="cc-window-settings-cookie"><div class="cc-window-settings-cookie-desc">`,this.params.cookies[s].hasOwnProperty("description")&&(t+=this.params.cookies[s].description);let e="";this.params.answered?this.params.cookies[s].hasOwnProperty("name")&&(e=this.params.cookies_status.hasOwnProperty(this.params.cookies[s].name)&&this.params.cookies_status[this.params.cookies[s].name]?' checked="checked"':""):e=this.params.cookies[s].hasOwnProperty("checked")&&this.params.cookies[s].checked?' checked="checked"':"";let n=this.params.cookies[s].hasOwnProperty("disabled")&&this.params.cookies[s].disabled&&""!=e?' disabled="disabled"':"";t+=`</div><div class="cc-window-settings-cookie-value"><input type="checkbox" class="cc-cookie-checkbox" id="cc-cookie-${this.params.cookies[s].name}" data-name="${this.params.cookies[s].name}" name="cc-cookie-${this.params.cookies[s].name}"${e}${n}>`,t+="</div></div>"}if(""!=t){const s="Select all",e="Unselect all",n="Accept selection";this.params.content.btnSettingsSelectAll=this.params.content.hasOwnProperty("btnSettingsSelectAll")?this.params.content.btnSettingsSelectAll:s,this.params.content.btnSettingsUnselectAll=this.params.content.hasOwnProperty("btnSettingsUnselectAll")?this.params.content.btnSettingsUnselectAll:e,this.params.content.btnSettingsAccept=this.params.content.hasOwnProperty("btnSettingsAccept")?this.params.content.btnSettingsAccept:n,t+=`<div class="cc-window-settings-buttons">\n                <button type="button" id="cc-btn-settings-select" class="cc-btn-settings-select" data-action="select">${this.params.content.btnSettingsSelectAll}</button>\n                <button type="button" id="cc-btn-settings-accept" class="cc-btn-settings-accept">${this.params.content.btnSettingsAccept}</button>\n            </div>`,this.openPopUp("cc-window-settings",t),this.attachEventsSettingsButtons()}}openPopUp(t,s){const e=`\n        <div class="cc-modal-window">\n            <div id="cc-modal-close" class="cc-modal-close">&times;</div>\n            <div class="cc-modal-content">${s}</div>\n        </div>`;let n=document.createElement("div");n.id=t,n.classList.add("cc-modal"),n.innerHTML=e,document.body.insertAdjacentElement("beforeend",n),n.style.display="block",document.getElementById("cc-modal-close").addEventListener("click",function(){n.remove()})}closePopUp(){const t=document.getElementsByClassName("cc-modal");for(var s=0;s<t.length;s++)t[s].remove()}attachEventsButtons(){const t=document.getElementById("cc-btn-accept"),s=document.getElementById("cc-btn-reject"),e=document.getElementById("cc-btn-info"),n=document.getElementById("cc-btn-settings"),a=document.getElementById("cc-btn-dismiss"),i=this;t&&t.addEventListener("click",function(){i.removeHtmlMessage(),i.printDismissButton(),i.setCookieStatusInParams("accept_all"),i.setCookieConsent("accept"),i.callbackFunction("accept")}),s&&s.addEventListener("click",function(){i.removeHtmlMessage(),i.printDismissButton(),i.setCookieStatusInParams("reject_all"),i.setCookieConsent("reject"),i.callbackFunction("reject")}),e&&e.addEventListener("click",function(){i.showhideInfo()}),a&&a.addEventListener("click",function(){i.removeDismissButton(),i.printHtmlMessage()}),n&&n.addEventListener("click",function(){i.showhideSettings()})}attachEventsSettingsButtons(){const t=document.getElementById("cc-btn-settings-select"),s=document.getElementById("cc-btn-settings-accept"),e=this;t&&t.addEventListener("click",function(){e.changeStateSettingsSelection()}),s&&s.addEventListener("click",function(){e.removeHtmlMessage(),e.printDismissButton(),e.setCookieStatusInParams("selection"),e.setCookieConsent("selection"),e.closePopUp(),e.callbackFunction("accept")})}changeStateSettingsSelection(){const t=document.getElementById("cc-btn-settings-select"),s=t.dataset.action;let e=!1;"select"==s?(e=!0,t.innerHTML=this.params.content.btnSettingsUnselectAll,t.dataset.action="unselect"):"unselect"==s&&(t.innerHTML=this.params.content.btnSettingsSelectAll,t.dataset.action="select");const n=document.querySelectorAll(".cc-window-settings-cookie-value .cc-cookie-checkbox");for(let t=0;t<n.length;t++)n[t].disabled||(n[t].checked=e)}setCookieConsent(t=""){let s="";if(this.params.expirationDays>0){let t=new Date;t.setTime(t.getTime()+24*this.params.expirationDays*60*60*1e3),s="expires="+t.toUTCString()}const e=btoa(t+":"+Date.now());let n="SameSite=Lax";this.params.hasOwnProperty("sameSite")&&("none"==this.params.sameSite&&(n="SameSite=None;Secure"),"strict"==this.params.sameSite&&(n="SameSite=Strict")),document.cookie=`consentcookies_status=${e};${s};${this.params.path};${n};`,Object.entries(this.params.cookies_status).forEach(([t,e])=>{document.cookie=e?`${t}=${btoa(t+":"+Date.now())};${s};${this.params.path};${n};`:`${t}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;${this.params.path}`}),this.params.answered=!0}setCookieStatusInParams(t){if(this.params.hasOwnProperty("cookies_status"))if("accept_all"==t)for(const t in this.params.cookies_status)this.params.cookies_status[t]=!0;else if("reject_all"==t)for(const t in this.params.cookies_status)this.params.cookies_status[t]=!1;else if("selection"==t){const t=document.querySelectorAll(".cc-window-settings-cookie-value .cc-cookie-checkbox");for(let s=0;s<t.length;s++)this.params.cookies_status.hasOwnProperty(t[s].dataset.name)&&(this.params.cookies_status[t[s].dataset.name]=t[s].checked)}}callbackFunction(type=""){"first-load"==type&&this.params.hasOwnProperty("callback")&&this.params.callback.hasOwnProperty("first_load")&&""!=this.params.callback.first_load?eval(`${this.params.callback.first_load}(this.params.cookies_status)`):"load"==type&&this.params.hasOwnProperty("callback")&&this.params.callback.hasOwnProperty("load")&&""!=this.params.callback.load?eval(`${this.params.callback.load}(this.params.cookies_status)`):"accept"==type&&this.params.hasOwnProperty("callback")&&this.params.callback.hasOwnProperty("accept")&&""!=this.params.callback.accept?eval(`${this.params.callback.accept}(this.params.cookies_status)`):"reject"==type&&this.params.hasOwnProperty("callback")&&this.params.callback.hasOwnProperty("reject")&&""!=this.params.callback.reject&&eval(`${this.params.callback.reject}(this.params.cookies_status)`)}getStatus(){return this.params.answered}getConfig(){return this.params}showMessage(){this.removeDismissButton(),this.printHtmlMessage()}removeCookies(){let t=document.cookie,s=t.split(";");for(let t=0;t<s.length;t++){let e=s[t].split("=");document.cookie=`${e[0]}="";expires=Thu, 01 Jan 1970 00:00:00 UTC;${this.params.path}`}}}